(this["webpackJsonpecwid-new-test"]=this["webpackJsonpecwid-new-test"]||[]).push([[0],{174:function(e,t,a){e.exports=a(379)},373:function(e,t,a){},374:function(e,t,a){},375:function(e,t,a){},376:function(e,t,a){},377:function(e,t,a){},378:function(e,t,a){},379:function(e,t,a){"use strict";a.r(t);a(175),a(184);var n=a(173),r=a.n(n),c=a(65),l=a(49),i=a(64),s=a(2),o=a.n(s),u=(a(373),function(e,t){var a=new Image;a.onload=function(){var a={url:e,width:this.width,height:this.height};t(a,"url")},a.src=e}),d=function(e){return o.a.createElement("div",{className:"photo-gallery",draggable:!0,onDragOver:function(e){return e.preventDefault()},onDrop:function(t){if(t.preventDefault(),"text/plain"!==t.dataTransfer.items[0].type)for(var a=0;a<t.dataTransfer.items.length;a++){var n=URL.createObjectURL(t.dataTransfer.items[a].getAsFile());u(n,e.addPicture)}else{var r=t.dataTransfer.getData("URL");u(r,e.addPicture)}}},e.images&&e.images.map((function(t){var a=t.width/t.height,n=200*a;return o.a.createElement("div",{className:"photo-gallery__item",style:{flexGrow:a},key:t.id},o.a.createElement("span",{className:"photo-gallery__item-close",onClick:function(){return e.deletePicture(t.id)}},o.a.createElement("i",{className:"fas fa-trash-alt"})),o.a.createElement("img",{className:"photo-gallery__item-img",width:n,height:200,src:t.url,alt:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",style:{flexGrow:a}}))})))},m=(a(374),function(){return o.a.createElement("div",{className:"header"},o.a.createElement("div",{className:"container header__container"},o.a.createElement("h1",null,"Photo Gallery")))}),p=(a(375),a(376),function(){return o.a.createElement("div",{className:"spinner"},o.a.createElement("svg",{className:"spinner__circle",width:"65px",height:"65px",viewBox:"0 0 66 66",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("circle",{className:"spinner__path",fill:"none",strokeWidth:"6",strokeLinecap:"round",cx:"33",cy:"33",r:"30"})))}),f=new RegExp("^(http|https)://","i"),h=function(e){var t=Object(s.useState)(!1),a=Object(i.a)(t,2),n=a[0],r=a[1],c=Object(s.useRef)(),l=Object(s.useRef)(),d=Object(s.useState)(!1),m=Object(i.a)(d,2),h=m[0],v=m[1],g=function(t){t.preventDefault(),r(!0);var a=c.current.files[0]||t.dataTransfer.items[0].getAsFile();switch(a.type){case"image/jpeg":case"image/png":v(!1),u(URL.createObjectURL(a),e.addPicture);break;case"application/json":v(!1),function(e,t){var a=new FileReader;a.readAsText(e,"UTF-8"),a.onload=function(e){var a=JSON.parse(e.target.result),n=[];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&a[r].map((function(e){return n.push(e)}));t(n,"json")}}(a,e.addPicture);break;default:v(!0)}c.current.value="",r(!1)};return o.a.createElement("form",{className:"upload ".concat(e.classContainer)},o.a.createElement("div",null,n&&o.a.createElement(p,null),o.a.createElement("div",{className:"mb12"},o.a.createElement("label",{htmlFor:"url"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 url \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438"),o.a.createElement("div",{className:"upload__text mt8"},o.a.createElement("input",{disabled:n,ref:l,className:"upload__input-text",id:"url",type:"text",placeholder:"http://"}),o.a.createElement("button",{className:"upload__button",type:"button",onClick:function(){var t=l.current.value;""!==t&&(r(!0),f.test(t)&&(u(t,e.addPicture),l.current.value=""),r(!1))},disabled:n},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"))),o.a.createElement("div",null,o.a.createElement("label",{htmlFor:"file"},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0444\u0430\u0439\u043b"),o.a.createElement("div",{className:"upload__file mt8",onDragOver:function(e){return e.preventDefault()},onDrop:g},o.a.createElement("input",{ref:c,disabled:n,className:"upload__file-input",type:"file",id:"file",onChange:g}),o.a.createElement("div",{className:"upload__file-wrapper ".concat(h?"upload__file-wrapper--error":"")},o.a.createElement("div",null,h?"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 json, png \u0438\u043b\u0438 jpeg \u0444\u0430\u0439\u043b":"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"))))))};h.defaultProps={classContainer:""};var v=h,g=(a(377),function(){return"_".concat(Math.random().toString(36).substr(2,9))}),b=function(){var e=Object(s.useState)([]),t=Object(i.a)(e,2),a=t[0],n=t[1],r=function(e){if(Array.isArray(e)){var t=e.map((function(e){return Object(c.a)(Object(c.a)({},e),{},{id:g()})}));n([].concat(Object(l.a)(a),Object(l.a)(t)))}else a.push(Object(c.a)(Object(c.a)({},e),{},{id:g()})),n(Object(l.a)(a))};return o.a.createElement("div",{className:"app"},o.a.createElement(m,null),o.a.createElement("div",{className:"container pt32"},o.a.createElement(v,{classContainer:"mb32 mx-auto",addPicture:r}),o.a.createElement(d,{images:a,deletePicture:function(e){var t=a.findIndex((function(t){return t.id===e}));n([].concat(Object(l.a)(a.slice(0,t)),Object(l.a)(a.slice(t+1))))},addPicture:r})))};a(378);r.a.render(o.a.createElement(b,null),document.getElementById("root"))}},[[174,1,2]]]);
//# sourceMappingURL=main.cc1c79a9.chunk.js.map